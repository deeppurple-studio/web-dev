# Основы JavaScript

1. [Функции, которые нам понадобятся](#Функции,-которые-нам-понадобятся)
2. [Переменные](#Переменные)
    1. [Константы](#Константы)
    2. [Типы данных](#Типы-данных)
3. [Ветвление](#Ветвление)
    1. [Немного про условия](#Немного-про-условия)
    2. [Операторы if и else](#Операторы-`if`-и-`else`)
    3. [Оператор switch](#Оператор-`switch`)
4. [Циклы](#Циклы)
5. Функции
6. Перехват ошибок

## Функции, которые нам понадобятся

+ `console.log(значение_или_переменная)` - выводит значения аргументов в консоль (для браузера: F12 -> вкладка "Отладка"; для серверов на Nginx: в терминал);
+ `alert(сообщение)` - [только для браузеров] выводит значения аргументов в отдельное окошко браузера;
+ `prompt(заголовок, значение_поля_по_умолчанию)` - [только для браузеров] выводит текст и добавляет поле для ввода пользователем данных. Выводом служит значение в поле.

# Переменные

Переменная, проще говоря, это "именнованное хранилище" данных. Она хранит в себе значение, пока наш код выполняется.

Создать переменную можно двумя способами:
+ Через ключевое слово `var`
```javascript
var a = 2;
var b = "Hello";
```
+ Через ключевое слово `let`
```javascript
let i = 5;
let y = "Hello world!";
```

### Отличия `let` от `var`
+ Ограничивается блоком объявления (созданая переменная `let` внутри фигурных скобок доступна только внутри этих скобок)
```javascript
{
    var a = 1;
    let b = 2;
}

console.log(a);
console.log(b);

//Вывод:
// 1
// ReferenceError: b is not defined
```
+ Нельзя объявить повторно под одним именем (у `var` просто переназначивается). То есть:
```javascript
// Переменная, созданная через var
var testA = 1;
var testA = 2;

console.log(testA);  // Выведет последнее назначенное значение: 2

// Переменная, созданная через let
let testB = 1;
let testB = 2;

// Выдаст ошибку SyntaxError
```

*Причем, обычное переназначивание работает в любом варианте без проблем*:
```javascript
var i = 1;
i = 2;

let j = 3;
j = 4;

console.log(i);  // Вывод: 2
console.log(j);  // Вывод: 4
```

## Константы

Переменная, которая в процессе вывполнения кода не должна изменятся, называется **константой**.

```javascript
const date = "01.01.1970";
```

## Типы данных

При создании переменных в JavaScript нужно понимать, какой вид данных мы записываем. Требуется это для того, чтобы исключить какие либо ошибки с переменными и быстро разобраться, в чем же дело.

+ Логические типы:
    + `bool` - тип булевой логики. Имеет два варианта значения - `true` и `false`
+ Числовые
    + `Number` - числовой тип данных (сюда относятся целые и вещественные числа). Значения варьируются от `Number.MIN_SAFE_INTEGER` (-(2^53 - 1) или -9007199254740991) до `Number.MAX_SAFE_INTEGER` (2^53 - 1 или 9007199254740991). Если интересно, почему это так: [Number.MIN_SAFE_INTEGER](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Number/MIN_SAFE_INTEGER) и [Number.MAX_SAFE_INTEGER](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER)
        ```javascript
        let a = 19;            // Целое число
        let b = 67.4;          // Вещественное (дробное) число
        let c = Number("19");  // Аналог a, только через функцию
        ```
        + Так же существуют *специальные числовые значения*: `Infinity`, `-Infinity`, `NaN`. `Infinity` и `-Infinity` - математическая бесконечность (появляется при делении на 0 и при явном указании). `NaN` (сокр. *Not a Number*) - ошибка при вычислении (как пример, деление строки на число), причем если в выражении появилось `NaN`, то все выражение равняется `NaN`.
        ```javascript
        console.log(10 / 0);  // Выведет Infinity
        console.log("" / 2);  // Выводом будет NaN, так как делить строки мы не можем
        ```
    + `BigInt` - целочисленный тип данных произвольной длины. Чтобы задать значение числа с данным типом, следует добавить `n` в конец числа.  Так же можно вызвать функцию `BigInt` и в качестве аргумента передать число или строку для преобразования в этот тип данных.
    ```javascript
    let big_a = 123456789123456789123456789n;
    let big_b = BigInt("123456789123456789123456789");  // Аналог big_a, только через функцию
    ```
+ Строковые
    + `string` - строковый (логично) тип данных. Любая строка должна быть заключена между одним из трех выдов кавычек: Одинарные `'`, Двойные`"` и Обратные \`.
        + Первые два вида кавычек, `'` и `"`, просто указывают на строку.
        + Обратные кавычки добаляют расширенную функциональность. Если внутри таких кавычек добавить `${...}`, то внутри фигурных скобок можно писать выражения или вызывать переменные, после чего значения выражений/строк будет введено в строку.
        ```javascript
        let user = "Vladimir";

        let str_a = "Hello world!";
        let str_b = 'Hello Alexeyi!';
        let str_c = `Hello ${user}!`;  // ${user} заменится на данные в переменной user

        console.log(str_a);  // Выведет "Hello world!"
        console.log(str_b);  // Выведет "Hello Alexey"
        console.log(str_c);  // Выведет "Hello Vladimir"
        ```
+ Другие
    + `null` - тип, который обозначает **ничего**.
    ```javascript
    // Пример использования
    function test() {
        null;
    }
    ```
    + `undefined` - неопределенный тип, обозначает, что **ничего не было присвоенно**
    ```javascript
    function test(a) {
        console.log(a);
    }

    test();  // Так как не был задан аргумент, вывод функции будет undefined
    ```
    + `array` - массив с данными. Внутри себя может иметь все перечисленные типы данных в неограниченном количестве. **Получить значение можно по индексу**. Нумерация начинается с `0`, отрицательные значения индекса выводят значения с конца массива.
    ```javascript
    let arr = [1, 2.3, "4.56", true];

    console.log(arr[0]);  // Выведет 1
    console.log(arr[2]);  // Выведет "4.56"
    console.log(arr[-1]); // Выведет true, первое значение с конца
    ```
    + `object` - сложный тип данных. Внутри себя может содержать все перечисленные выше типы данных в неограниченном количестве. **Получить значение можно по ключу** (обычно по строке с названием).
    ```javascript
    let a = 1234567890123456789012345678901n;
    
    let obj = {
        "username": "AlexeyNaBalny",  // Можно присваивать строки
        "age": 44,     // А можно и числа
        "male": true,  // Даже логические значения
        "id": a        // И даже переменные
    }

    // Получение значений из объекта
    console.log(obg["username"]);  // Вариант 1, выведет "AlexeyNaBalny"
    console.log(obj.age);  // Вариант 2, выведет 44
    ```

# Ветвление

Часто в программировании встречаются случаи, когда нужно выполнить действие по какому-то условию. Тут на помощь приходят операторы `if` и `switch`.

## Немного про условия

*Используются не только в ветвлениях, но и в циклах, а также можно записать в переменную.*

### Виды условий

Их всего два:
+ Ложные - имеют значения:
    + `false`,
    + Число `0`,
    + Пустая строка `""`,
    + `null`,
    + `NaN`,
    + `undefined`;
+ Правдивые (истинные) - значения этих условий после вычисления равны: 
    + `true`,
    + число, не равное нулю,
    + не пустая строка и др.

### Сравнение значений

Очень хорошо, что в JS можно сравнивать значение переменных (или просто каких-то значений, что бессмысленно), ведь это очень часто пригождается на практике. Тут знаки такие же, как и в математике (не считая некоторых):
+ `<` - меньше;
+ `>` - больше;
+ `<=` - меньше или равно;
+ `>=` - больше или равно;
+ `==` - простое сравнение. Сравнивает значения. **Такие выражения, как `1 == "1"` будут "правдивыми", так как тут происходит преобразование типов. Надо быть внимательным к таким моментам, бывает сложно найти ошибку в коде при таком сравнении**;
+ `===` - строгое сравнение. Сравнивается как значение, так и тип. То есть `null` не будет равен `undefined` (разный тип данных), `0` не будет равен `false` (тоже самое) и так далее.

### Логические операторы для условий

+ `!` - логическое НЕ, которая инвертирует (меняет на противоположное) значение.
```javascript
console.log(!false);  // Выведет true
```
+ `||` - логическое ИЛИ, которое выведет истину, если хотя бы одно из значений правдивое.
```javascript
console.log(false || false);  // Будет ложным, оба значения false
console.log(false || true);   // Будет истина, есть одно true
console.log(true || false);   // Будет истина, есть одно true
console.log(true || true);    // Будет истина
```
+ `&&` - логическое И, выведет истину в случае, если оба значения истинные:
```javascript
console.log(false && false);  // Будет ложным, оба значения false
console.log(false && true);   // Будет ложным, есть одно false
console.log(true && false);   // Будет ложным, есть одно false
console.log(true && true);    // Будет истина
```

## Операторы `if` и `else`

Вычисляет условие внутри круглых скобок и, если значение условия является "правдивым", выполняет действия внутри блока (фигурных скобок):

```javascript
if (условие) // Какое-то однострочное действие

// или

if (условие) {
    // Какие-то действия, которые выполнятся, если условие окажется правдивым
}
```
*Использование фигурных скобок не обязательно, но желательно. Повышает читаемость кода и вашу самооценку :)*


Бывают случаи, когда условие принимет и "ложные" значения, и нужно выполнить действие:

```javascript
if (условие) {
    // Тут код выполнится, если условие "правдивое"
} else {
    // А здесь код выполнится, если условие оказалось "ложным"
}
```

Также можно добавить еще и промежуточные условия, которые будут выполнятся, если прошлое оказалось "ложным":

```javascript
if (условие1) {
    // Тут код выполнится, если условие1 "истинное"
} else if (условие2) {
    // Вот тут код выполнится, если условие1 - "ложное", а условие2 - "правдивое"
} else {
    // Ну а тут, если все условия выше "ложные"
}
```

## Оператор `switch`

Очень похож на `if`, принимает переменную и сравнивает её значение со значением после оператора `case`. Если ни одно из значений после `case` не равно значению переменной, то выполнится действие после оператора `default`. *Обрати внимание, что если не поставить `break`, то выполнятся все действия ниже, до следующего `break` в блоке или до конца блока `switch`*

```javascript
switch переменная {
    case значение1:
        ...
        break;
    case значение2:
        ...
        break;
    default:
        ...
        break;
}
```

# Циклы

Цикл `while` будет выполнять код внутри блока до тех пор, пока условие не окажется "ложным" или не будет вызвано `break`. *Если оно изначально было "ложным", то код не выполнится.*

```javascript
while (условие) {
    // Какое-либо действие, которое нужно повторить
}
```

Цикл `do ... while` такой же, как и `while`, за исключением того, что если изначально значение было "ложным", то код выполнится хотя бы один раз. Применяется очень редко.

```javascript
do {
    ...
} while (условие);
```

Цикл `for(...;...;...)` был сделан для повтора какого-то действия или преребора значений переменной определенное количество раз.

```javascript
// Общий вид:
for (начало;условие;шаг) {
    // действие
}

// начало - выполнится один раз при входе в цикл
// условие - проверяется перед каждой итерацией (повторением), если условие "ложно" - останавливает цикл
// шаг - выполняется после действия в блоке перед проверкой условия цикла

for (let i=0; i<3; i++) {

}
```

Еще бы хотелось затронуть цикл `for ... in`, который перебирает значения через перечисляемые свойства объекта.

```javascript
let obj = {"a":1, "b":2, "c":3};

for (item in obj) {
    console.log("Ключ: " + item + "; Значение: " + obj[item]);
}
```

## `break` и `continue` в циклах

+ `break` - заканчивает выполнение цикла (совершает выход из него);
```javascript
let i = 0;
while (i < 20) {
    if (i == 5) break;
    console.log(i);
}

// Выведет:
//   все значения от 0 до 4 (5 чисел), но выполнит 6 повторений, так как код ниже break не выполнится, а console.log выводит нам числа
```
+ `continue` - переводит цикл на новую итерацию, пропуская код в блоке цикла ниже. Возможно сказано не так понятно, но если посмотреть код ниже, то все прояснится (надеюсь):
```javascript
let i = 0;

while (i < 20) {
    if (i == 5) continue;
    console.log(i);
}

// Выведет:
//   все значения от 0 до 19 (потому что 20 не больше 20, они равны)
//   кроме 5
```

# Функции

Функции нужны для выполнения какого-либо кода повторно.

```javascript
// Общий вид невозвращающей функции
function имя_функции(аргументы) {
    // Тут выполняем действия
    ...
}

// Общий вид возвращающей функции
function имя_функции(аргументы) {
    // Тут тоже выполняем действия
    ...
    return переменная_или_значение
}
```

Объяснение. Представим, что есть действие, которое имеет большое количество кода и нужно его иногда повторять. Мы можем его можно перенести в функцию и вызывать эту функцию в нужный момент (сократить код). Как пример, запрос пароля пользователя:

```javascript
let passwdsList = ["12345", "67890", "24680", "13579"];

function promptPassword() {
    let passwd = prompt("Ваш пароль");

    // Проверяем, есть ли в списке пароль
    for (let i=0; i<passwdsList.length; i++) {
        // passwdsList.length - количество элементов в списке

        if (passwd == passwdsList[i]) {
            alert("Доступ разрешен!");
            return passwd;  // Возвращаем введеный пароль
        }
    }
}
```

Можно вызывать функцию внутри себя, что называется **рекурсией**. Рекурсия ограничена по количеству вызовов (количество этих вызовов - *глубина рекурции*). [Подробнее про рекурсию](https://learn.javascript.ru/recursion).

Простой пример рекурсии:

```javascript
function getPassword() {
    let passwd = prompt("Ваш пароль");

    if (passwd == "abcdef") {
        alert("Доступ разрешен!");
    } else {
        getPassword();  // Повторяем запрос пароля, возможно пользователь ошибся
    }
}
```

# Перехват ошибок

Бывают случаи, когда нужно выловить ошибку и код далее продолжил работать корректно.

```javascript
// Общий вид
try {
    // Код
} catch (имя_переменной_для_информации_по_ошибке) {
    // Обработка ошибки
}
```

[Подробнее про ошибки](https://learn.javascript.ru/exception)